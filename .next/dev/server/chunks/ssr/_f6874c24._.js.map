{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport { LayoutDashboard, Shield, Handshake, Upload, Settings, ChevronRight, FileSpreadsheet } from \"lucide-react\"\n\nconst navigation = [\n  { name: \"Dashboard\", href: \"/\", icon: LayoutDashboard },\n  { name: \"Protect\", href: \"/protect\", icon: Shield },\n  { name: \"Settlement\", href: \"/settlement\", icon: Handshake },\n  { name: \"Nexus Purchased\", href: \"/nexus-purchased\", icon: Handshake },\n  { name: \"Upload Data\", href: \"/upload\", icon: Upload },\n  { name: \"Settings\", href: \"/settings\", icon: Settings },\n]\n\nexport function Sidebar() {\n  const pathname = usePathname()\n\n  return (\n    <aside className=\"fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card\">\n      <div className=\"flex h-full flex-col\">\n        {/* Logo */}\n        <div className=\"flex h-16 items-center gap-3 border-b border-border px-6\">\n          <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-primary\">\n            <FileSpreadsheet className=\"h-5 w-5 text-primary-foreground\" />\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"text-sm font-semibold text-foreground\">CRM</span>\n            <span className=\"text-xs text-muted-foreground\">CRM Platform</span>\n          </div>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 space-y-1 px-3 py-4\">\n          <div className=\"mb-2 px-3 text-xs font-medium uppercase tracking-wider text-muted-foreground\">Main Menu</div>\n          {navigation.map((item) => {\n            const isActive = pathname === item.href\n            return (\n              <Link\n                key={item.name}\n                href={item.href}\n                className={cn(\n                  \"group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all\",\n                  isActive\n                    ? \"bg-primary/10 text-primary\"\n                    : \"text-muted-foreground hover:bg-muted hover:text-foreground\",\n                )}\n              >\n                <item.icon\n                  className={cn(\n                    \"h-5 w-5 transition-colors\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-foreground\",\n                  )}\n                />\n                {item.name}\n                {isActive && <ChevronRight className=\"ml-auto h-4 w-4 text-primary\" />}\n              </Link>\n            )\n          })}\n        </nav>\n\n        {/* Footer */}\n        <div className=\"border-t border-border p-4\">\n          <div className=\"flex items-center gap-3 rounded-lg bg-muted/50 px-3 py-2\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary/20\">\n              <span className=\"text-xs font-medium text-primary\">AD</span>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"text-sm font-medium text-foreground\">Admin</span>\n              <span className=\"text-xs text-muted-foreground\">Administrator</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </aside>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;;AAOA,MAAM,aAAa;IACjB;QAAE,MAAM;QAAa,MAAM;QAAK,MAAM,+OAAe;IAAC;IACtD;QAAE,MAAM;QAAW,MAAM;QAAY,MAAM,gNAAM;IAAC;IAClD;QAAE,MAAM;QAAc,MAAM;QAAe,MAAM,yNAAS;IAAC;IAC3D;QAAE,MAAM;QAAmB,MAAM;QAAoB,MAAM,yNAAS;IAAC;IACrE;QAAE,MAAM;QAAe,MAAM;QAAW,MAAM,gNAAM;IAAC;IACrD;QAAE,MAAM;QAAY,MAAM;QAAa,MAAM,sNAAQ;IAAC;CACvD;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACE,8OAAC;QAAM,WAAU;kBACf,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,+OAAe;gCAAC,WAAU;;;;;;;;;;;sCAE7B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAwC;;;;;;8CACxD,8OAAC;oCAAK,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;8BAKpD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCAA+E;;;;;;wBAC7F,WAAW,GAAG,CAAC,CAAC;4BACf,MAAM,WAAW,aAAa,KAAK,IAAI;4BACvC,qBACE,8OAAC,uKAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,IAAA,kHAAE,EACX,2FACA,WACI,+BACA;;kDAGN,8OAAC,KAAK,IAAI;wCACR,WAAW,IAAA,kHAAE,EACX,6BACA,WAAW,iBAAiB;;;;;;oCAG/B,KAAK,IAAI;oCACT,0BAAY,8OAAC,sOAAY;wCAAC,WAAU;;;;;;;+BAhBhC,KAAK,IAAI;;;;;wBAmBpB;;;;;;;8BAIF,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAK,WAAU;8CAAmC;;;;;;;;;;;0CAErD,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAsC;;;;;;kDACtD,8OAAC;wCAAK,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9D"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/header.tsx"],"sourcesContent":["\"use client\"\n\nimport { Bell, Search, HelpCircle, Sun, Moon } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface HeaderProps {\n  title: string\n  subtitle?: string\n}\n\nexport function Header({ title, subtitle }: HeaderProps) {\n  const { setTheme, theme } = useTheme()\n  return (\n    <header className=\"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-background/95 px-6 backdrop-blur\">\n      <div>\n        <h1\n          className=\"text-xl font-semibold text-foreground tracking-tight\"\n          style={{ fontFamily: \"var(--font-heading)\" }}\n        >\n          {title}\n        </h1>\n        {subtitle && <p className=\"text-sm text-muted-foreground\">{subtitle}</p>}\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <div className=\"relative w-64\">\n          <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n          <Input placeholder=\"Search...\" className=\"pl-9 bg-secondary border-border\" />\n        </div>\n\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}>\n          <Sun className=\"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\n          <Bell className=\"h-5 w-5 text-muted-foreground\" />\n          <span className=\"absolute right-1 top-1 h-2 w-2 rounded-full bg-primary\" />\n        </Button>\n\n        <Button variant=\"ghost\" size=\"icon\">\n          <HelpCircle className=\"h-5 w-5 text-muted-foreground\" />\n        </Button>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAYO,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAe;IACrD,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAA,4JAAQ;IACpC,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;;kCACC,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,YAAY;wBAAsB;kCAE1C;;;;;;oBAEF,0BAAY,8OAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;0BAG7D,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,gNAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC,mIAAK;gCAAC,aAAY;gCAAY,WAAU;;;;;;;;;;;;kCAG3C,8OAAC,qIAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,SAAS,IAAM,SAAS,UAAU,SAAS,UAAU;;0CACvF,8OAAC,uMAAG;gCAAC,WAAU;;;;;;0CACf,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;kCAG5B,8OAAC,qIAAM;wBAAC,SAAQ;wBAAQ,MAAK;wBAAO,WAAU;;0CAC5C,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAK,WAAU;;;;;;;;;;;;kCAGlB,8OAAC,qIAAM;wBAAC,SAAQ;wBAAQ,MAAK;kCAC3B,cAAA,8OAAC,gOAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKhC"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/lib/store.ts"],"sourcesContent":["\"use client\"\n\nimport { create } from \"zustand\"\nimport { persist } from \"zustand/middleware\"\nimport type {\n  CRMRecord,\n  ProtectRecord,\n  SettlementRecord,\n  NexusRecord,\n  UploadHistory,\n  Remark,\n  ActivityLogEntry,\n  Status,\n  DPDGroup,\n  Partner,\n} from \"./types\"\n\ninterface CRMStore {\n  records: CRMRecord[]\n  uploadHistory: UploadHistory[]\n\n  // Filters\n  searchQuery: string\n  statusFilter: string\n  partnerFilter: string\n  lenderFilter: string\n  dpdGroupFilter: string\n  dateRangeStart: string\n  dateRangeEnd: string\n  typeFilter: \"protect\" | \"settlement\" | \"nexus\" | \"both\"\n  dateFilterType: \"today\" | \"7d\" | \"30d\" | \"1y\" | \"custom\"\n  npaOnly: boolean\n  isInitialized: boolean\n\n  // Actions\n  setInitialized: (val: boolean) => void\n  setRecords: (records: CRMRecord[]) => void\n  addRecords: (records: CRMRecord[], upload: UploadHistory) => void\n  updateRecord: (id: string, updates: Partial<CRMRecord>) => void\n  updateRecordStatus: (id: string, status: Status) => void\n  updateRecordStage: (id: string, stage: string) => void\n  updatePartPayment: (id: string, amount: number) => void\n  addRemark: (recordId: string, remark: Omit<Remark, \"id\">) => void\n  updateRemark: (recordId: string, remarkId: string, text: string) => void\n  deleteRemark: (recordId: string, remarkId: string) => void\n  addActivityLog: (recordId: string, entry: Omit<ActivityLogEntry, \"id\">) => void\n  deleteActivityLog: (recordId: string, logId: string) => void\n  deleteRecord: (id: string) => void\n  deleteRecords: (ids: string[]) => void\n\n\n  // Filter setters\n  setSearchQuery: (query: string) => void\n  setStatusFilter: (status: string) => void\n  setPartnerFilter: (partner: string) => void\n  setLenderFilter: (lender: string) => void\n  setDpdGroupFilter: (group: string) => void\n  setDateRange: (start: string, end: string) => void\n  setTypeFilter: (type: \"protect\" | \"settlement\" | \"nexus\" | \"both\") => void\n  setDateFilterType: (type: \"today\" | \"7d\" | \"30d\" | \"1y\" | \"custom\") => void\n  setNpaOnly: (val: boolean) => void\n\n  // Getters\n  getProtectRecords: () => ProtectRecord[]\n  getSettlementRecords: () => SettlementRecord[]\n  getNexusRecords: () => NexusRecord[]\n  getFilteredProtectRecords: () => ProtectRecord[]\n  getFilteredSettlementRecords: () => SettlementRecord[]\n  getFilteredRecords: () => CRMRecord[]\n  getRecordById: (id: string) => CRMRecord | undefined\n\n  hasHydrated: boolean\n  setHasHydrated: (state: boolean) => void\n}\n\n// Helper to determine DPD Group\nexport function getDPDGroup(dpd: number): DPDGroup {\n  if (dpd <= 30) return \"0-30\"\n  if (dpd <= 60) return \"31-60\"\n  if (dpd <= 90) return \"61-90\"\n  if (dpd <= 180) return \"91-180\"\n  return \"180+\"\n}\n\n// Helper to detect partner from data\nexport function detectPartner(row: Record<string, unknown>): Partner | null {\n  const values = Object.values(row).map((v) => String(v).toLowerCase().trim())\n\n  if (values.some((v) => v.includes(\"sayyam\") || v.includes(\"sayam\") || v === \"sy\")) return \"sayyam\"\n  if (values.some((v) => v.includes(\"snapmint\") || v.includes(\"snap mint\") || v === \"sm\")) return \"snapmint\"\n\n  return null\n}\n\n// Helper to detect record type from columns\n// Helper to detect record type from columns\nexport function detectRecordType(columns: string[]): \"protect\" | \"settlement\" | \"nexus\" {\n  const lowerCols = columns.map((c) => c.toLowerCase().trim())\n\n  // Unique columns for Nexus\n  const nexusIndicators = [\n    \"user id\",\n    \"user\",\n    \"nexus purchase date\", // Shared but good indicator\n  ]\n\n  // Unique columns for Settlement\n  const settlementIndicators = [\n    \"lender name\",\n    \"credit card no\",\n    \"loan acc no\",\n    \"is legal notice\",\n    \"recommended amount\",\n    \"customer wish amount\"\n  ]\n\n  // Unique columns for Protect\n  const protectIndicators = [\n    \"plan\",\n    \"institution\",\n    \"account number\",\n    \"emi amount\",\n    \"dpd\",\n    \"current dpd\"\n  ]\n\n  const hasNexus = nexusIndicators.every(ind => lowerCols.includes(ind)) || (lowerCols.includes(\"user id\") && lowerCols.includes(\"email\"))\n  const hasSettlement = settlementIndicators.some(ind => lowerCols.includes(ind))\n  const hasProtect = protectIndicators.some(ind => lowerCols.includes(ind))\n\n  if (hasNexus) return \"nexus\"\n  if (hasSettlement && !hasProtect) return \"settlement\"\n  if (hasProtect && !hasSettlement) return \"protect\"\n\n  // Fallback or default\n  return \"protect\"\n}\n\nexport const useCRMStore = create<CRMStore>()(\n  persist(\n    (set, get) => ({\n      records: [],\n      uploadHistory: [],\n      searchQuery: \"\",\n      statusFilter: \"all\",\n      partnerFilter: \"all\",\n      lenderFilter: \"all\",\n      dpdGroupFilter: \"all\",\n      dateRangeStart: \"\",\n      dateRangeEnd: \"\",\n      typeFilter: \"both\",\n      dateFilterType: \"30d\",\n      npaOnly: false,\n      isInitialized: false,\n\n      setInitialized: (val) => set({ isInitialized: val }),\n\n      setRecords: (records) => set({ records }),\n\n      addRecords: (newRecords, upload) =>\n        set((state) => ({\n          records: [...state.records, ...newRecords],\n          uploadHistory: [upload, ...state.uploadHistory],\n        })),\n\n      updateRecord: (id, updates) =>\n        set((state) => ({\n          records: state.records.map((r) => (r.id === id ? { ...r, ...updates } as CRMRecord : r)),\n        })),\n\n      updateRecordStatus: (id, status) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Status Changed\",\n            details: `Status updated to \"${status}\"`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          set((state) => ({\n            records: state.records.map((r) => {\n              if (r.id === id) {\n                return { ...r, status, activityLog: [...r.activityLog, { ...entry, id: `log-${Date.now()}` }] } as CRMRecord\n              }\n              return r\n            }),\n          }))\n        }\n      },\n\n      updateRecordStage: (id, stage) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Stage Changed\",\n            details: `Stage updated to \"${stage}\"`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          set((state) => ({\n            records: state.records.map((r) =>\n              r.id === id ? { ...r, stage, activityLog: [...r.activityLog, { ...entry, id: `log-${Date.now()}` }] } : r,\n            ),\n          }))\n        }\n      },\n\n      updatePartPayment: (id, amount) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Part Payment Updated\",\n            details: `Part Payment updated to â‚¹${amount.toLocaleString()}`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          set((state) => ({\n            records: state.records.map((r) =>\n              r.id === id ? { ...r, partPaymentAmount: amount, activityLog: [...r.activityLog, { ...entry, id: `log-${Date.now()}` }] } : r,\n            ),\n          }))\n        }\n      },\n\n      addRemark: (recordId, remark) =>\n        set((state) => ({\n          records: state.records.map((r) =>\n            r.id === recordId\n              ? {\n                ...r,\n                remarks: [...r.remarks, { ...remark, id: `remark-${Date.now()}` }],\n                activityLog: [\n                  ...r.activityLog,\n                  {\n                    id: `log-${Date.now()}`,\n                    action: \"Remark Added\",\n                    details: remark.text.substring(0, 50) + (remark.text.length > 50 ? \"...\" : \"\"),\n                    timestamp: new Date().toISOString(),\n                    user: remark.createdBy,\n                  },\n                ],\n              }\n              : r,\n          ),\n        })),\n\n      updateRemark: (recordId, remarkId, text) =>\n        set((state) => ({\n          records: state.records.map((r) =>\n            r.id === recordId\n              ? {\n                ...r,\n                remarks: r.remarks.map((rem) =>\n                  rem.id === remarkId ? { ...rem, text, updatedAt: new Date().toISOString() } : rem,\n                ),\n              }\n              : r,\n          ),\n        })),\n\n      deleteRemark: (recordId, remarkId) =>\n        set((state) => ({\n          records: state.records.map((r) =>\n            r.id === recordId ? { ...r, remarks: r.remarks.filter((rem) => rem.id !== remarkId) } : r,\n          ),\n        })),\n\n      deleteRecord: (id) =>\n        set((state) => ({\n          records: state.records.filter((r) => r.id !== id),\n        })),\n\n      deleteRecords: (ids) => {\n        console.log(\"store.deleteRecords called with ids:\", ids)\n        set((state) => {\n          const newRecords = state.records.filter((r) => !ids.includes(r.id))\n          console.log(\"Records before:\", state.records.length, \"Records after:\", newRecords.length)\n          return { records: newRecords }\n        })\n      },\n\n\n\n      addActivityLog: (recordId, entry) =>\n        set((state) => ({\n          records: state.records.map((r) =>\n            r.id === recordId ? { ...r, activityLog: [...r.activityLog, { ...entry, id: `log-${Date.now()}` }] } : r,\n          ),\n        })),\n\n      deleteActivityLog: (recordId, logId) =>\n        set((state) => ({\n          records: state.records.map((r) =>\n            r.id === recordId ? { ...r, activityLog: r.activityLog.filter((log) => log.id !== logId) } : r,\n          ),\n        })),\n\n      setSearchQuery: (query) => set({ searchQuery: query }),\n      setStatusFilter: (status) => set({ statusFilter: status }),\n      setPartnerFilter: (partner) => set({ partnerFilter: partner }),\n      setLenderFilter: (lender) => set({ lenderFilter: lender }),\n      setDpdGroupFilter: (group) => set({ dpdGroupFilter: group }),\n      setDateRange: (start, end) => set({ dateRangeStart: start, dateRangeEnd: end }),\n      setTypeFilter: (type) => set({ typeFilter: type }),\n      setDateFilterType: (type) => set({ dateFilterType: type }),\n      setNpaOnly: (val) => set({ npaOnly: val }),\n\n      getProtectRecords: () => get().records.filter((r): r is ProtectRecord => r.type === \"protect\"),\n      getSettlementRecords: () => get().records.filter((r): r is SettlementRecord => r.type === \"settlement\"),\n      getNexusRecords: () => get().records.filter((r): r is NexusRecord => r.type === \"nexus\"),\n\n      getFilteredProtectRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, dpdGroupFilter, dateRangeStart, dateRangeEnd } =\n          get()\n        return records\n          .filter((r): r is ProtectRecord => r.type === \"protect\")\n          .filter((r) => {\n            const matchesSearch =\n              searchQuery === \"\" ||\n              r.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              r.mobileNumber.includes(searchQuery) ||\n              r.accountNumber.includes(searchQuery)\n\n            // Custom Stage Filtering for Protect Page\n            let matchesStatus = true\n            if (statusFilter !== \"all\") {\n              if (statusFilter === \"Part Payment\" || statusFilter === \"Skip EMI\") {\n                // Filter by Stage\n                matchesStatus = r.stage === statusFilter\n              } else {\n                // Filter by Status (standard)\n                matchesStatus = r.status === statusFilter\n              }\n            }\n            const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n            const matchesLender = get().lenderFilter === \"all\" || r.institution === get().lenderFilter\n            const matchesDpd = dpdGroupFilter === \"all\" || r.dpdGroup === dpdGroupFilter\n\n            let matchesDate = true\n            if (dateRangeStart && dateRangeEnd) {\n              const recordDate = new Date(r.formFilledDate)\n              matchesDate = recordDate >= new Date(dateRangeStart) && recordDate <= new Date(dateRangeEnd)\n            }\n\n            return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDpd && matchesDate\n          })\n          .sort((a, b) => new Date(b.formFilledDate).getTime() - new Date(a.formFilledDate).getTime())\n      },\n\n      getFilteredSettlementRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, dateRangeStart, dateRangeEnd } = get()\n        return records\n          .filter((r): r is SettlementRecord => r.type === \"settlement\")\n          .filter((r) => {\n            const matchesSearch =\n              searchQuery === \"\" ||\n              r.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              r.mobileNumber.includes(searchQuery) ||\n              r.loanAccNo.includes(searchQuery)\n            const matchesStatus = statusFilter === \"all\" || r.status === statusFilter\n            const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n            const matchesLender = get().lenderFilter === \"all\" || r.lenderName === get().lenderFilter\n\n            let matchesDate = true\n            if (dateRangeStart && dateRangeEnd) {\n              const recordDate = new Date(r.formFilledDate)\n              matchesDate = recordDate >= new Date(dateRangeStart) && recordDate <= new Date(dateRangeEnd)\n            }\n\n            return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDate\n          })\n          .sort((a, b) => new Date(b.formFilledDate).getTime() - new Date(a.formFilledDate).getTime())\n      },\n\n      getFilteredRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, lenderFilter, dpdGroupFilter, dateRangeStart, dateRangeEnd, typeFilter, npaOnly } = get()\n\n        return records.filter((r) => {\n          // Type Filter\n          if (typeFilter !== \"both\" && r.type !== typeFilter) return false\n\n          // Search Filter\n          let matchesSearch = false\n          if (r.type === \"protect\") {\n            const pr = r as ProtectRecord\n            matchesSearch = searchQuery === \"\" ||\n              pr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              pr.mobileNumber.includes(searchQuery) ||\n              pr.accountNumber.includes(searchQuery)\n          } else if (r.type === \"settlement\") {\n            const sr = r as SettlementRecord\n            matchesSearch = searchQuery === \"\" ||\n              sr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              sr.mobileNumber.includes(searchQuery) ||\n              sr.loanAccNo.includes(searchQuery)\n          } else if (r.type === \"nexus\") {\n            const nr = r as NexusRecord\n            matchesSearch = searchQuery === \"\" ||\n              nr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              nr.mobileNumber.includes(searchQuery) ||\n              nr.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              nr.userId.toLowerCase().includes(searchQuery.toLowerCase())\n          }\n\n          // Common Filters\n          const matchesStatus = statusFilter === \"all\" || r.status === statusFilter\n          // Nexus records might not have partner logic fully fleshed out but we keep it for now\n          const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n\n          // Lender Filter\n          let matchesLender = true\n          if (lenderFilter !== \"all\") {\n            if (r.type === \"protect\") {\n              matchesLender = (r as ProtectRecord).institution === lenderFilter\n            } else if (r.type === \"settlement\") {\n              matchesLender = (r as SettlementRecord).lenderName === lenderFilter\n            } else {\n              // For Nexus or others, assume no match if a lender filter is active\n              matchesLender = false\n            }\n          }\n\n          // DPD Filter (only for protect)\n          const matchesDpd = r.type === \"protect\" ? (dpdGroupFilter === \"all\" || (r as ProtectRecord).dpdGroup === dpdGroupFilter) : true\n\n          // Date Filter\n          let matchesDate = true\n          if (dateRangeStart && dateRangeEnd) {\n            const recordDate = new Date(r.formFilledDate)\n            matchesDate = recordDate >= new Date(dateRangeStart) && recordDate <= new Date(dateRangeEnd)\n          }\n\n          // NPA Filter\n          let matchesNpa = true\n          if (npaOnly) {\n            if (r.type === \"nexus\") return false // Nexus records don't have NPA logic yet\n\n            const todayDate = new Date()\n            todayDate.setHours(0, 0, 0, 0)\n            const todayStr = todayDate.toISOString().split(\"T\")[0]\n\n            // Safe cast because we checked type is not nexus\n            let referenceDateStr = (r as ProtectRecord | SettlementRecord).lastPaymentDate\n\n            const isDefaultOrMissing = !referenceDateStr || referenceDateStr === todayStr\n\n            if (isDefaultOrMissing) {\n              if (r.type === \"protect\" && (r as ProtectRecord).emiDate && (r as ProtectRecord).emiDate !== todayStr) {\n                referenceDateStr = (r as ProtectRecord).emiDate\n              } else if (r.type === \"settlement\" && (r as SettlementRecord).dueDate && (r as SettlementRecord).dueDate !== todayStr) {\n                referenceDateStr = (r as SettlementRecord).dueDate\n              }\n            }\n\n            if (referenceDateStr) {\n              const refDate = new Date(referenceDateStr)\n              if (!isNaN(refDate.getTime())) {\n                refDate.setHours(0, 0, 0, 0)\n                const diffTime = todayDate.getTime() - refDate.getTime()\n                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\n                matchesNpa = diffDays >= 90\n              } else {\n                matchesNpa = false\n              }\n            } else {\n              matchesNpa = false\n            }\n          }\n\n          return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDpd && matchesDate && matchesNpa\n        })\n      },\n\n      getRecordById: (id) => get().records.find((r) => r.id === id),\n\n      hasHydrated: false,\n      setHasHydrated: (state: boolean) => set({ hasHydrated: state }),\n    }),\n    {\n      name: \"crm-storage\",\n      onRehydrateStorage: () => (state) => {\n        state?.setHasHydrated(true)\n      },\n    },\n  ),\n)\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 904, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1006, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1033, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 1068, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/separator.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nfunction Separator({\n  className,\n  orientation = 'horizontal',\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1097, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/app/settings/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Sidebar } from \"@/components/sidebar\"\nimport { Header } from \"@/components/header\"\nimport { useCRMStore } from \"@/lib/store\"\nimport type { ProtectRecord, SettlementRecord } from \"@/lib/types\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { User, Bell, Shield, Database, CheckCircle, Trash2 } from \"lucide-react\"\nimport * as XLSX from \"xlsx\"\n\nfunction downloadExcelFile(workbook: XLSX.WorkBook, filename: string) {\n  const wbout = XLSX.write(workbook, { bookType: \"xlsx\", type: \"array\" })\n  const blob = new Blob([wbout], { type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement(\"a\")\n  link.href = url\n  link.download = filename\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\nexport default function SettingsPage() {\n  const [firstName, setFirstName] = useState(\"Admin\")\n  const [lastName, setLastName] = useState(\"User\")\n  const [email, setEmail] = useState(\"admin@loansettle.com\")\n  const [emailNotifications, setEmailNotifications] = useState(true)\n  const [settlementAlerts, setSettlementAlerts] = useState(true)\n  const [followUpReminders, setFollowUpReminders] = useState(true)\n  const [autoBackup, setAutoBackup] = useState(true)\n  const [saved, setSaved] = useState(false)\n\n  const { records, setRecords } = useCRMStore()\n\n  const handleSaveProfile = () => {\n    setSaved(true)\n    setTimeout(() => setSaved(false), 2000)\n  }\n\n  const handleExportData = () => {\n    const protectRecords = records.filter((r): r is ProtectRecord => r.type === \"protect\")\n    const settlementRecords = records.filter((r): r is SettlementRecord => r.type === \"settlement\")\n\n    // Export Protect Records\n    const protectData = protectRecords.map((r) => ({\n      \"Nexus Purchase Date\": r.nexusPurchaseDate,\n      \"Form Filled Date\": r.formFilledDate,\n      Name: r.name,\n      \"Mobile Number\": r.mobileNumber,\n      Plan: r.plan,\n      Institution: r.institution,\n      \"Account Number\": r.accountNumber,\n      \"Account Type\": r.accountType,\n      \"Date Opened\": r.dateOpened,\n      \"EMI Date\": r.emiDate,\n      \"EMI Amount\": r.emiAmount,\n      DPD: r.dpd,\n      \"Current DPD\": r.currentDpd,\n      \"DPD Group\": r.dpdGroup,\n      Status: r.status,\n      Stage: r.stage,\n      Partner: r.partner,\n    }))\n\n    // Export Settlement Records\n    const settlementData = settlementRecords.map((r) => ({\n      \"Nexus Purchase Date\": r.nexusPurchaseDate,\n      \"Form Filled Date\": r.formFilledDate,\n      Name: r.name,\n      \"Mobile Number\": r.mobileNumber,\n      \"Lender Name\": r.lenderName,\n      \"Credit Card No\": r.creditCardNo,\n      \"Loan Acc No\": r.loanAccNo,\n      \"Due Amt\": r.dueAmt,\n      \"Due Date\": r.dueDate,\n      \"EMI Bounced\": r.isEmiBounced ? \"Yes\" : \"No\",\n      \"Legal Notice\": r.isLegalNotice ? \"Yes\" : \"No\",\n      Employment: r.currEmployment,\n      \"Recommended Amt\": r.recommendedAmt,\n      \"Customer Wish Amt\": r.customerWishAmt,\n      Status: r.status,\n      Stage: r.stage,\n      Partner: r.partner,\n    }))\n\n    const wb = XLSX.utils.book_new()\n\n    if (protectData.length > 0) {\n      const wsProtect = XLSX.utils.json_to_sheet(protectData)\n      XLSX.utils.book_append_sheet(wb, wsProtect, \"Protect Records\")\n    }\n\n    if (settlementData.length > 0) {\n      const wsSettlement = XLSX.utils.json_to_sheet(settlementData)\n      XLSX.utils.book_append_sheet(wb, wsSettlement, \"Settlement Records\")\n    }\n\n    downloadExcelFile(wb, `crm_export_${new Date().toISOString().split(\"T\")[0]}.xlsx`)\n  }\n\n  const handleClearData = () => {\n    if (confirm(\"Are you sure you want to clear all data? This action cannot be undone.\")) {\n      setRecords([])\n      localStorage.removeItem(\"crm-storage\")\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Sidebar />\n\n      <main className=\"ml-64\">\n        <Header title=\"Settings\" subtitle=\"Manage your CRM preferences and configurations\" />\n\n        <div className=\"p-6 space-y-6 max-w-4xl\">\n          {/* Profile Settings */}\n          <Card className=\"bg-card border-border\">\n            <CardHeader>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-lg bg-muted p-2\">\n                  <User className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <CardTitle className=\"text-lg font-semibold text-foreground\">Profile Settings</CardTitle>\n                  <CardDescription className=\"text-muted-foreground\">Update your personal information</CardDescription>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"firstName\" className=\"text-foreground\">\n                    First Name\n                  </Label>\n                  <Input\n                    id=\"firstName\"\n                    value={firstName}\n                    onChange={(e) => setFirstName(e.target.value)}\n                    className=\"bg-muted/50 border-border\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"lastName\" className=\"text-foreground\">\n                    Last Name\n                  </Label>\n                  <Input\n                    id=\"lastName\"\n                    value={lastName}\n                    onChange={(e) => setLastName(e.target.value)}\n                    className=\"bg-muted/50 border-border\"\n                  />\n                </div>\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-foreground\">\n                  Email\n                </Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"bg-muted/50 border-border\"\n                />\n              </div>\n              <Button onClick={handleSaveProfile}>\n                {saved ? (\n                  <>\n                    <CheckCircle className=\"mr-2 h-4 w-4\" /> Saved!\n                  </>\n                ) : (\n                  \"Save Changes\"\n                )}\n              </Button>\n            </CardContent>\n          </Card>\n\n          {/* Notification Settings */}\n          <Card className=\"bg-card border-border\">\n            <CardHeader>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-lg bg-muted p-2\">\n                  <Bell className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <CardTitle className=\"text-lg font-semibold text-foreground\">Notifications</CardTitle>\n                  <CardDescription className=\"text-muted-foreground\">\n                    Configure how you receive notifications\n                  </CardDescription>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">Email Notifications</p>\n                  <p className=\"text-xs text-muted-foreground\">Receive updates via email</p>\n                </div>\n                <Switch checked={emailNotifications} onCheckedChange={setEmailNotifications} />\n              </div>\n              <Separator className=\"bg-border\" />\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">Settlement Alerts</p>\n                  <p className=\"text-xs text-muted-foreground\">Get notified when cases are settled</p>\n                </div>\n                <Switch checked={settlementAlerts} onCheckedChange={setSettlementAlerts} />\n              </div>\n              <Separator className=\"bg-border\" />\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">Follow-up Reminders</p>\n                  <p className=\"text-xs text-muted-foreground\">Reminders for scheduled follow-ups</p>\n                </div>\n                <Switch checked={followUpReminders} onCheckedChange={setFollowUpReminders} />\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Security Settings */}\n          <Card className=\"bg-card border-border\">\n            <CardHeader>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-lg bg-muted p-2\">\n                  <Shield className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <CardTitle className=\"text-lg font-semibold text-foreground\">Security</CardTitle>\n                  <CardDescription className=\"text-muted-foreground\">Manage your account security</CardDescription>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"currentPassword\" className=\"text-foreground\">\n                  Current Password\n                </Label>\n                <Input id=\"currentPassword\" type=\"password\" className=\"bg-muted/50 border-border\" />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"newPassword\" className=\"text-foreground\">\n                  New Password\n                </Label>\n                <Input id=\"newPassword\" type=\"password\" className=\"bg-muted/50 border-border\" />\n              </div>\n              <Button variant=\"outline\">Update Password</Button>\n            </CardContent>\n          </Card>\n\n          {/* Data Settings */}\n          <Card className=\"bg-card border-border\">\n            <CardHeader>\n              <div className=\"flex items-center gap-3\">\n                <div className=\"rounded-lg bg-muted p-2\">\n                  <Database className=\"h-5 w-5 text-primary\" />\n                </div>\n                <div>\n                  <CardTitle className=\"text-lg font-semibold text-foreground\">Data Management</CardTitle>\n                  <CardDescription className=\"text-muted-foreground\">Export and manage your CRM data</CardDescription>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">Export All Data</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Download all records as Excel ({records.length} records)\n                  </p>\n                </div>\n                <Button variant=\"outline\" onClick={handleExportData} disabled={records.length === 0}>\n                  Export\n                </Button>\n              </div>\n              <Separator className=\"bg-border\" />\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">Auto Backup</p>\n                  <p className=\"text-xs text-muted-foreground\">Data is saved to browser storage automatically</p>\n                </div>\n                <Switch checked={autoBackup} onCheckedChange={setAutoBackup} />\n              </div>\n              <Separator className=\"bg-border\" />\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-destructive\">Clear All Data</p>\n                  <p className=\"text-xs text-muted-foreground\">Permanently delete all records</p>\n                </div>\n                <Button variant=\"destructive\" size=\"sm\" onClick={handleClearData}>\n                  <Trash2 className=\"mr-2 h-4 w-4\" /> Clear Data\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}