{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/theme-provider.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport {\n  ThemeProvider as NextThemesProvider,\n  type ThemeProviderProps,\n} from 'next-themes'\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACtE,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KAFgB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/lib/auth-store.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\n\r\nexport type UserRole = 'admin' | 'agent'\r\n\r\nexport interface User {\r\n    id: string\r\n    name: string\r\n    email: string\r\n    role: UserRole\r\n}\r\n\r\nexport interface AttendanceRecord {\r\n    id: string\r\n    userId: string\r\n    type: 'in' | 'out'\r\n    timestamp: string\r\n}\r\n\r\ninterface AuthState {\r\n    user: User | null\r\n    isAuthenticated: boolean\r\n    attendance: AttendanceRecord[]\r\n\r\n    // Actions\r\n    login: (user: User) => void\r\n    logout: () => void\r\n    punchIn: () => void\r\n    punchOut: () => void\r\n    getLastPunch: (userId: string) => AttendanceRecord | undefined\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n    persist(\r\n        (set, get) => ({\r\n            user: null,\r\n            isAuthenticated: false,\r\n            attendance: [],\r\n\r\n            login: (user) => {\r\n                set({\r\n                    isAuthenticated: true,\r\n                    user\r\n                })\r\n            },\r\n\r\n            logout: () => set({ user: null, isAuthenticated: false }),\r\n\r\n            punchIn: () => {\r\n                const { user, attendance } = get()\r\n                if (!user) return\r\n\r\n                const record: AttendanceRecord = {\r\n                    id: `punch-${Date.now()}`,\r\n                    userId: user.id,\r\n                    type: 'in',\r\n                    timestamp: new Date().toISOString()\r\n                }\r\n\r\n                set({ attendance: [...attendance, record] })\r\n            },\r\n\r\n            punchOut: () => {\r\n                const { user, attendance } = get()\r\n                if (!user) return\r\n\r\n                const record: AttendanceRecord = {\r\n                    id: `punch-${Date.now()}`,\r\n                    userId: user.id,\r\n                    type: 'out',\r\n                    timestamp: new Date().toISOString()\r\n                }\r\n\r\n                set({ attendance: [...attendance, record] })\r\n            },\r\n\r\n            getLastPunch: (userId) => {\r\n                const records = get().attendance.filter(r => r.userId === userId)\r\n                return records[records.length - 1]\r\n            }\r\n        }),\r\n        {\r\n            name: 'auth-storage',\r\n        }\r\n    )\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AA+BO,MAAM,eAAe,IAAA,qJAAM,IAC9B,IAAA,2JAAO,EACH,CAAC,KAAK,MAAQ,CAAC;QACX,MAAM;QACN,iBAAiB;QACjB,YAAY,EAAE;QAEd,OAAO,CAAC;YACJ,IAAI;gBACA,iBAAiB;gBACjB;YACJ;QACJ;QAEA,QAAQ,IAAM,IAAI;gBAAE,MAAM;gBAAM,iBAAiB;YAAM;QAEvD,SAAS;YACL,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG;YAC7B,IAAI,CAAC,MAAM;YAEX,MAAM,SAA2B;gBAC7B,IAAI,CAAC,MAAM,EAAE,KAAK,GAAG,IAAI;gBACzB,QAAQ,KAAK,EAAE;gBACf,MAAM;gBACN,WAAW,IAAI,OAAO,WAAW;YACrC;YAEA,IAAI;gBAAE,YAAY;uBAAI;oBAAY;iBAAO;YAAC;QAC9C;QAEA,UAAU;YACN,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG;YAC7B,IAAI,CAAC,MAAM;YAEX,MAAM,SAA2B;gBAC7B,IAAI,CAAC,MAAM,EAAE,KAAK,GAAG,IAAI;gBACzB,QAAQ,KAAK,EAAE;gBACf,MAAM;gBACN,WAAW,IAAI,OAAO,WAAW;YACrC;YAEA,IAAI;gBAAE,YAAY;uBAAI;oBAAY;iBAAO;YAAC;QAC9C;QAEA,cAAc,CAAC;YACX,MAAM,UAAU,MAAM,UAAU,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;YAC1D,OAAO,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;QACtC;IACJ,CAAC,GACD;IACI,MAAM;AACV"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/lib/store.ts"],"sourcesContent":["\"use client\"\n\nimport { create } from \"zustand\"\nimport { persist, createJSONStorage, StateStorage } from \"zustand/middleware\"\nimport { get, set, del } from \"idb-keyval\"\nimport type {\n  CRMRecord,\n  ProtectRecord,\n  SettlementRecord,\n  NexusRecord,\n  UploadHistory,\n  Remark,\n  ActivityLogEntry,\n  Status,\n  DPDGroup,\n  Partner,\n} from \"./types\"\n\n// Custom Storage Adapter for IndexedDB\nconst storage: StateStorage = {\n  getItem: async (name: string): Promise<string | null> => {\n    return (await get(name)) || null\n  },\n  setItem: async (name: string, value: string): Promise<void> => {\n    await set(name, value)\n  },\n  removeItem: async (name: string): Promise<void> => {\n    await del(name)\n  },\n}\n\ninterface CRMStore {\n  records: CRMRecord[]\n  uploadHistory: UploadHistory[]\n\n  // Filters\n  searchQuery: string\n  statusFilter: string\n  partnerFilter: string\n  lenderFilter: string\n  dpdGroupFilter: string\n  dateRangeStart: string\n  dateRangeEnd: string\n  typeFilter: \"protect\" | \"settlement\" | \"nexus\" | \"both\"\n  dateFilterType: \"today\" | \"7d\" | \"30d\" | \"1y\" | \"custom\"\n  npaOnly: boolean\n  isInitialized: boolean\n  geminiApiKey: string\n\n  // Actions\n  // Actions\n  setInitialized: (val: boolean) => void\n  setGeminiApiKey: (key: string) => void\n  setRecords: (records: CRMRecord[]) => void\n  fetchRecords: () => Promise<void>\n  fetchUploadHistory: () => Promise<void>\n  addRecords: (records: CRMRecord[], upload: UploadHistory) => Promise<void>\n  updateRecord: (id: string, updates: Partial<CRMRecord>) => Promise<void>\n  updateRecordStatus: (id: string, status: Status) => Promise<void>\n  updateRecordStage: (id: string, stage: string) => Promise<void>\n  updatePartPayment: (id: string, amount: number) => Promise<void>\n  addRemark: (recordId: string, remark: Omit<Remark, \"id\">) => Promise<void>\n  updateRemark: (recordId: string, remarkId: string, text: string) => Promise<void>\n  deleteRemark: (recordId: string, remarkId: string) => Promise<void>\n  addActivityLog: (recordId: string, entry: Omit<ActivityLogEntry, \"id\">) => Promise<void>\n  deleteActivityLog: (recordId: string, logId: string) => Promise<void>\n  deleteRecord: (id: string) => Promise<void>\n  deleteRecords: (ids: string[]) => Promise<void>\n\n\n  // Filter setters\n  setSearchQuery: (query: string) => void\n  setStatusFilter: (status: string) => void\n  setPartnerFilter: (partner: string) => void\n  setLenderFilter: (lender: string) => void\n  setDpdGroupFilter: (group: string) => void\n  setDateRange: (start: string, end: string) => void\n  setTypeFilter: (type: \"protect\" | \"settlement\" | \"nexus\" | \"both\") => void\n  setDateFilterType: (type: \"today\" | \"7d\" | \"30d\" | \"1y\" | \"custom\") => void\n  setNpaOnly: (val: boolean) => void\n\n  // Getters\n  getProtectRecords: () => ProtectRecord[]\n  getSettlementRecords: () => SettlementRecord[]\n  getNexusRecords: () => NexusRecord[]\n  getFilteredProtectRecords: () => ProtectRecord[]\n  getFilteredSettlementRecords: () => SettlementRecord[]\n  getFilteredRecords: () => CRMRecord[]\n  getRecordById: (id: string) => CRMRecord | undefined\n\n  hasHydrated: boolean\n  setHasHydrated: (state: boolean) => void\n}\n\n// Helper to determine DPD Group\nexport function getDPDGroup(dpd: number): DPDGroup {\n  if (dpd <= 30) return \"0-30\"\n  if (dpd <= 60) return \"31-60\"\n  if (dpd <= 90) return \"61-90\"\n  if (dpd <= 180) return \"91-180\"\n  return \"180+\"\n}\n\n// Helper to detect partner from data\nexport function detectPartner(row: Record<string, unknown>): Partner | null {\n  const values = Object.values(row).map((v) => String(v).toLowerCase().trim())\n\n  if (values.some((v) => v.includes(\"sayyam\") || v.includes(\"sayam\") || v === \"sy\")) return \"sayyam\"\n  if (values.some((v) => v.includes(\"snapmint\") || v.includes(\"snap mint\") || v === \"sm\")) return \"snapmint\"\n\n  return null\n}\n\n// Helper to detect record type from columns\nexport function detectRecordType(columns: string[]): \"protect\" | \"settlement\" | \"nexus\" {\n  const lowerCols = columns.map((c) => c.toLowerCase().trim())\n\n  // Unique columns for Nexus\n  const nexusIndicators = [\n    \"user id\", \"user_id\",\n    \"nexus purchase date\", \"tx_date_time\", \"tx date time\"\n  ]\n\n  // Unique columns for Settlement\n  const settlementIndicators = [\n    \"creditor name\",\n    \"debt type\",\n    \"loan amount\",\n    \"is emi bounced\",\n    \"customer wish amount\",\n    \"recommended amount\"\n  ]\n\n  // Unique columns for Protect\n  const protectIndicators = [\n    \"plan\",\n    \"institution\",\n    \"account number\",\n    \"emi amount\",\n    \"current dpd\"\n  ]\n\n  const hasNexus = (\n    lowerCols.some(c => c.includes(\"user_id\") || c.includes(\"user id\")) ||\n    lowerCols.some(c => c.includes(\"tx_date_time\")) ||\n    (lowerCols.some(c => c.includes(\"user_id\")) && lowerCols.some(c => c.includes(\"email\")))\n  )\n\n  const hasSettlement = settlementIndicators.some(ind => lowerCols.some(col => col.includes(ind)))\n  const hasProtect = protectIndicators.some(ind => lowerCols.some(col => col.includes(ind)))\n\n  if (hasNexus) return \"nexus\"\n\n  // Prefer Settlement if strong indicators exist\n  if (hasSettlement) return \"settlement\"\n  if (hasProtect) return \"protect\"\n\n  // Fallback or default\n  return \"protect\"\n}\n\nexport const useCRMStore = create<CRMStore>()(\n  persist(\n    (set, get) => ({\n      records: [],\n      uploadHistory: [],\n      searchQuery: \"\",\n      statusFilter: \"all\",\n      partnerFilter: \"all\",\n      lenderFilter: \"all\",\n      dpdGroupFilter: \"all\",\n      dateRangeStart: \"\",\n      dateRangeEnd: \"\",\n      typeFilter: \"both\",\n      dateFilterType: \"30d\",\n      npaOnly: false,\n      isInitialized: false,\n      geminiApiKey: \"\",\n\n      setInitialized: (val) => set({ isInitialized: val }),\n      setGeminiApiKey: (key) => set({ geminiApiKey: key }),\n      setRecords: (records) => set({ records }),\n\n      fetchRecords: async () => {\n        try {\n          const res = await fetch('/api/records');\n          const data = await res.json();\n          if (data.records) {\n            set({ records: data.records });\n          }\n        } catch (error) {\n          console.error(\"Failed to fetch records:\", error);\n        }\n      },\n\n      fetchUploadHistory: async () => {\n        try {\n          const res = await fetch('/api/upload-history');\n          const data = await res.json();\n          if (data.history) {\n            set({ uploadHistory: data.history });\n          }\n        } catch (error) {\n          console.error(\"Failed to fetch upload history:\", error);\n        }\n      },\n\n      addRecords: async (newRecords, upload) => {\n        // Optimistic update? No, let's wait for server for bulk add to ensure ID stability if server generated IDs (but here we generate IDs in client possibly? yes, in excel-upload).\n        // Actually excel-upload generates IDs.\n        // Optimistic:\n        set((state) => ({\n          records: [...state.records, ...newRecords],\n          uploadHistory: [upload, ...state.uploadHistory],\n        }));\n\n        // Sync\n        try {\n          await fetch('/api/records', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ records: newRecords })\n          });\n          await fetch('/api/upload-history', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(upload)\n          });\n        } catch (e) { console.error(\"Sync failed\", e) }\n      },\n\n      updateRecord: async (id, updates) => {\n        set((state) => ({\n          records: state.records.map((r) => (r.id === id ? { ...r, ...updates } as CRMRecord : r)),\n        }));\n        try {\n          await fetch(`/api/records/${id}`, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(updates)\n          });\n        } catch (e) { console.error(\"Sync failed\", e) }\n      },\n\n      updateRecordStatus: async (id, status) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Status Changed\",\n            details: `Status updated to \"${status}\"`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          const updatedRecord = { ...record, status, activityLog: [...record.activityLog, { ...entry, id: `log-${Date.now()}` }] } as CRMRecord;\n\n          set((state) => ({\n            records: state.records.map((r) => r.id === id ? updatedRecord : r),\n          }));\n\n          try {\n            await fetch(`/api/records/${id}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      updateRecordStage: async (id, stage) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Stage Changed\",\n            details: `Stage updated to \"${stage}\"`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          const updatedRecord = { ...record, stage, activityLog: [...record.activityLog, { ...entry, id: `log-${Date.now()}` }] } as CRMRecord;\n\n          set((state) => ({\n            records: state.records.map((r) => r.id === id ? updatedRecord : r),\n          }));\n\n          try {\n            await fetch(`/api/records/${id}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      updatePartPayment: async (id, amount) => {\n        const record = get().records.find((r) => r.id === id)\n        if (record) {\n          const entry: Omit<ActivityLogEntry, \"id\"> = {\n            action: \"Part Payment Updated\",\n            details: `Part Payment updated to â‚¹${amount.toLocaleString()}`,\n            timestamp: new Date().toISOString(),\n            user: \"Current User\",\n          }\n          const updatedRecord = { ...record, partPaymentAmount: amount, activityLog: [...record.activityLog, { ...entry, id: `log-${Date.now()}` }] } as CRMRecord;\n\n          set((state) => ({\n            records: state.records.map((r) => r.id === id ? updatedRecord : r),\n          }));\n\n          try {\n            await fetch(`/api/records/${id}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      addRemark: async (recordId, remark) => {\n        const record = get().records.find((r) => r.id === recordId);\n        if (record) {\n          const newRemark = { ...remark, id: `remark-${Date.now()}` };\n          const logEntry = {\n            id: `log-${Date.now()}`,\n            action: \"Remark Added\",\n            details: remark.text.substring(0, 50) + (remark.text.length > 50 ? \"...\" : \"\"),\n            timestamp: new Date().toISOString(),\n            user: remark.createdBy,\n          };\n          const updatedRecord = {\n            ...record,\n            remarks: [...record.remarks, newRemark],\n            activityLog: [...record.activityLog, logEntry]\n          } as CRMRecord;\n\n          set((state) => ({\n            records: state.records.map((r) => r.id === recordId ? updatedRecord : r)\n          }));\n\n          try {\n            await fetch(`/api/records/${recordId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      updateRemark: async (recordId, remarkId, text) => {\n        const record = get().records.find((r) => r.id === recordId);\n        if (record) {\n          const updatedRecord = {\n            ...record,\n            remarks: record.remarks.map((rem) =>\n              rem.id === remarkId ? { ...rem, text, updatedAt: new Date().toISOString() } : rem,\n            ),\n          } as CRMRecord;\n\n          set((state) => ({\n            records: state.records.map((r) => r.id === recordId ? updatedRecord : r)\n          }));\n\n          try {\n            await fetch(`/api/records/${recordId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      deleteRemark: async (recordId, remarkId) => {\n        const record = get().records.find((r) => r.id === recordId);\n        if (record) {\n          const updatedRecord = { ...record, remarks: record.remarks.filter((rem) => rem.id !== remarkId) } as CRMRecord;\n          set((state) => ({\n            records: state.records.map((r) => r.id === recordId ? updatedRecord : r),\n          }));\n\n          try {\n            await fetch(`/api/records/${recordId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      deleteRecord: async (id) => {\n        set((state) => ({\n          records: state.records.filter((r) => r.id !== id),\n        }));\n        try {\n          await fetch(`/api/records/${id}`, {\n            method: 'DELETE'\n          });\n        } catch (e) { console.error(\"Sync failed\", e) }\n      },\n\n      deleteRecords: async (ids) => {\n        console.log(\"store.deleteRecords called with ids:\", ids)\n        set((state) => {\n          const newRecords = state.records.filter((r) => !ids.includes(r.id))\n          console.log(\"Records before:\", state.records.length, \"Records after:\", newRecords.length)\n          return { records: newRecords }\n        })\n        try {\n          await fetch(`/api/records/bulk-delete`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ ids })\n          });\n        } catch (e) { console.error(\"Sync failed\", e) }\n      },\n\n\n      addActivityLog: async (recordId, entry) => {\n        const record = get().records.find((r) => r.id === recordId);\n        if (record) {\n          const updatedRecord = { ...record, activityLog: [...record.activityLog, { ...entry, id: `log-${Date.now()}` }] } as CRMRecord;\n          set((state) => ({\n            records: state.records.map((r) => r.id === recordId ? updatedRecord : r)\n          }));\n          try {\n            await fetch(`/api/records/${recordId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      deleteActivityLog: async (recordId, logId) => {\n        const record = get().records.find((r) => r.id === recordId);\n        if (record) {\n          const updatedRecord = { ...record, activityLog: record.activityLog.filter((log) => log.id !== logId) } as CRMRecord;\n          set((state) => ({\n            records: state.records.map((r) => r.id === recordId ? updatedRecord : r)\n          }));\n          try {\n            await fetch(`/api/records/${recordId}`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(updatedRecord)\n            });\n          } catch (e) { console.error(\"Sync failed\", e) }\n        }\n      },\n\n      setSearchQuery: (query) => set({ searchQuery: query }),\n      setStatusFilter: (status) => set({ statusFilter: status }),\n      setPartnerFilter: (partner) => set({ partnerFilter: partner }),\n      setLenderFilter: (lender) => set({ lenderFilter: lender }),\n      setDpdGroupFilter: (group) => set({ dpdGroupFilter: group }),\n      setDateRange: (start, end) => set({ dateRangeStart: start, dateRangeEnd: end }),\n      setTypeFilter: (type) => set({ typeFilter: type }),\n      setDateFilterType: (type) => set({ dateFilterType: type }),\n      setNpaOnly: (val) => set({ npaOnly: val }),\n\n      getProtectRecords: () => get().records.filter((r): r is ProtectRecord => r.type === \"protect\"),\n      getSettlementRecords: () => get().records.filter((r): r is SettlementRecord => r.type === \"settlement\"),\n      getNexusRecords: () => get().records.filter((r): r is NexusRecord => r.type === \"nexus\"),\n\n      getFilteredProtectRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, dpdGroupFilter, dateRangeStart, dateRangeEnd } =\n          get()\n        return records\n          .filter((r): r is ProtectRecord => r.type === \"protect\")\n          .filter((r) => {\n            const matchesSearch =\n              searchQuery === \"\" ||\n              r.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              r.mobileNumber.includes(searchQuery) ||\n              r.accountNumber.includes(searchQuery)\n\n            // Custom Stage Filtering for Protect Page\n            let matchesStatus = true\n            if (statusFilter !== \"all\") {\n              if (statusFilter === \"Part Payment\" || statusFilter === \"Skip EMI\") {\n                // Filter by Stage\n                matchesStatus = r.stage === statusFilter\n              } else {\n                // Filter by Status (standard)\n                matchesStatus = r.status === statusFilter\n              }\n            }\n            const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n            const matchesLender = get().lenderFilter === \"all\" || r.institution === get().lenderFilter\n            const matchesDpd = dpdGroupFilter === \"all\" || r.dpdGroup === dpdGroupFilter\n\n            let matchesDate = true\n            if (dateRangeStart && dateRangeEnd) {\n              const dateStr = r.nexusPurchaseDate || r.formFilledDate\n              const recordDate = new Date(dateStr)\n              const start = new Date(dateRangeStart)\n              start.setHours(0, 0, 0, 0)\n\n              const end = new Date(dateRangeEnd)\n              end.setHours(23, 59, 59, 999)\n\n              matchesDate = recordDate >= start && recordDate <= end\n            }\n\n            return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDpd && matchesDate\n          })\n          .sort((a, b) => new Date(b.formFilledDate).getTime() - new Date(a.formFilledDate).getTime())\n      },\n\n      getFilteredSettlementRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, dateRangeStart, dateRangeEnd } = get()\n        return records\n          .filter((r): r is SettlementRecord => r.type === \"settlement\")\n          .filter((r) => {\n            const matchesSearch =\n              searchQuery === \"\" ||\n              r.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              r.mobileNumber.includes(searchQuery) ||\n              r.loanAccNo.includes(searchQuery)\n            const matchesStatus = statusFilter === \"all\" || r.status === statusFilter\n            const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n            const matchesLender = get().lenderFilter === \"all\" || r.lenderName === get().lenderFilter\n\n            let matchesDate = true\n            if (dateRangeStart && dateRangeEnd) {\n              const dateStr = r.createdDate || r.nexusPurchaseDate || r.formFilledDate\n              const recordDate = new Date(dateStr)\n              const start = new Date(dateRangeStart)\n              start.setHours(0, 0, 0, 0)\n\n              const end = new Date(dateRangeEnd)\n              end.setHours(23, 59, 59, 999)\n\n              matchesDate = recordDate >= start && recordDate <= end\n            }\n\n            return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDate\n          })\n          .sort((a, b) => new Date(b.createdDate || b.formFilledDate).getTime() - new Date(a.createdDate || a.formFilledDate).getTime())\n      },\n\n      getFilteredRecords: () => {\n        const { records, searchQuery, statusFilter, partnerFilter, lenderFilter, dpdGroupFilter, dateRangeStart, dateRangeEnd, typeFilter, npaOnly } = get()\n\n        return records.filter((r) => {\n          // Type Filter\n          if (typeFilter !== \"both\" && r.type !== typeFilter) return false\n\n          // Search Filter\n          let matchesSearch = false\n          if (r.type === \"protect\") {\n            const pr = r as ProtectRecord\n            matchesSearch = searchQuery === \"\" ||\n              pr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              pr.mobileNumber.includes(searchQuery) ||\n              pr.accountNumber.includes(searchQuery)\n          } else if (r.type === \"settlement\") {\n            const sr = r as SettlementRecord\n            matchesSearch = searchQuery === \"\" ||\n              sr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              sr.mobileNumber.includes(searchQuery) ||\n              sr.loanAccNo.includes(searchQuery)\n          } else if (r.type === \"nexus\") {\n            const nr = r as NexusRecord\n            matchesSearch = searchQuery === \"\" ||\n              nr.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              nr.mobileNumber.includes(searchQuery) ||\n              nr.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\n              nr.userId.toLowerCase().includes(searchQuery.toLowerCase())\n          }\n\n          // Common Filters\n          const matchesStatus = statusFilter === \"all\" || r.status === statusFilter\n          // Nexus records might not have partner logic fully fleshed out but we keep it for now\n          const matchesPartner = partnerFilter === \"all\" || r.partner === partnerFilter\n\n          // Lender Filter\n          let matchesLender = true\n          if (lenderFilter !== \"all\") {\n            if (r.type === \"protect\") {\n              matchesLender = (r as ProtectRecord).institution === lenderFilter\n            } else if (r.type === \"settlement\") {\n              matchesLender = (r as SettlementRecord).lenderName === lenderFilter\n            } else {\n              // For Nexus or others, assume no match if a lender filter is active\n              matchesLender = false\n            }\n          }\n\n          // DPD Filter (only for protect)\n          const matchesDpd = r.type === \"protect\" ? (dpdGroupFilter === \"all\" || (r as ProtectRecord).dpdGroup === dpdGroupFilter) : true\n\n          let matchesDate = true\n          if (dateRangeStart && dateRangeEnd) {\n            let dateStr = \"\"\n            if (r.type === \"settlement\") {\n              dateStr = (r as SettlementRecord).createdDate\n            } else {\n              dateStr = r.nexusPurchaseDate || r.formFilledDate\n            }\n\n            // Fallback for any record if empty\n            if (!dateStr) dateStr = r.nexusPurchaseDate || r.formFilledDate || (r as any).createdDate\n\n            const recordDate = new Date(dateStr)\n            const start = new Date(dateRangeStart)\n            start.setHours(0, 0, 0, 0)\n\n            const end = new Date(dateRangeEnd)\n            end.setHours(23, 59, 59, 999)\n\n            // If date is invalid, it won't match range usually.\n            if (!isNaN(recordDate.getTime())) {\n              matchesDate = recordDate >= start && recordDate <= end\n            } else {\n              matchesDate = false\n            }\n          }\n\n          // NPA Filter\n          let matchesNpa = true\n          if (npaOnly) {\n            if (r.type === \"nexus\") return false // Nexus records don't have NPA logic yet\n\n            const todayDate = new Date()\n            todayDate.setHours(0, 0, 0, 0)\n            const todayStr = todayDate.toISOString().split(\"T\")[0]\n\n            // Safe cast because we checked type is not nexus\n            let referenceDateStr = (r as ProtectRecord | SettlementRecord).lastPaymentDate\n\n            const isDefaultOrMissing = !referenceDateStr || referenceDateStr === todayStr\n\n            if (isDefaultOrMissing) {\n              if (r.type === \"protect\" && (r as ProtectRecord).emiDate && (r as ProtectRecord).emiDate !== todayStr) {\n                referenceDateStr = (r as ProtectRecord).emiDate\n              } else if (r.type === \"settlement\" && (r as SettlementRecord).dueDate && (r as SettlementRecord).dueDate !== todayStr) {\n                referenceDateStr = (r as SettlementRecord).dueDate\n              }\n            }\n\n            if (referenceDateStr) {\n              const refDate = new Date(referenceDateStr)\n              if (!isNaN(refDate.getTime())) {\n                refDate.setHours(0, 0, 0, 0)\n                const diffTime = todayDate.getTime() - refDate.getTime()\n                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\n                matchesNpa = diffDays >= 90\n              } else {\n                matchesNpa = false\n              }\n            } else {\n              matchesNpa = false\n            }\n          }\n\n          return matchesSearch && matchesStatus && matchesPartner && matchesLender && matchesDpd && matchesDate && matchesNpa\n        })\n      },\n\n      getRecordById: (id) => get().records.find((r) => r.id === id),\n\n      hasHydrated: false,\n      setHasHydrated: (state: boolean) => set({ hasHydrated: state }),\n    }),\n    {\n      name: \"crm-storage-indexeddb\",\n      storage: createJSONStorage(() => storage),\n      partialize: (state) => {\n        // Exclude records and uploadHistory from persistence\n        const { records, uploadHistory, ...rest } = state;\n        return rest;\n      },\n      onRehydrateStorage: () => (state) => {\n        state?.setHasHydrated(true)\n        // Fetch records on hydration (or maybe call it explicitly in app)\n        // Better to call it in app/layout to control timing and auth, but here works for \"on load\".\n        // However, we can't await here easily.\n      },\n    },\n  ),\n)\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 772, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 855, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 886, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 1006, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 1039, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/auth/login-screen.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from \"@/components/ui/card\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { useAuthStore } from \"@/lib/auth-store\"\r\nimport { FileSpreadsheet, Lock, User } from \"lucide-react\"\r\n\r\nexport function LoginScreen() {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n    const login = useAuthStore(state => state.login)\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault()\r\n        setError(\"\")\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/login', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username: email, password })\r\n            })\r\n\r\n            const data = await res.json()\r\n\r\n            if (!res.ok) {\r\n                setError(data.error || \"Login failed\")\r\n                return\r\n            }\r\n\r\n            // Login successful\r\n            // We pass the username as email for compatibility with current store interface\r\n            const user = {\r\n                id: data.user.id,\r\n                name: data.user.name,\r\n                email: data.user.username,\r\n                role: data.user.role\r\n            }\r\n            login(user)\r\n        } catch (err) {\r\n            setError(\"Something went wrong. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 px-4\">\r\n            <Card className=\"w-full max-w-md shadow-lg\">\r\n                <CardHeader className=\"space-y-1 text-center\">\r\n                    <div className=\"flex justify-center mb-4\">\r\n                        <div className=\"h-12 w-12 bg-primary rounded-xl flex items-center justify-center\">\r\n                            <FileSpreadsheet className=\"h-6 w-6 text-primary-foreground\" />\r\n                        </div>\r\n                    </div>\r\n                    <CardTitle className=\"text-2xl font-bold\">Welcome back</CardTitle>\r\n                    <CardDescription>\r\n                        Enter your credentials to access the CRM\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <form onSubmit={handleLogin}>\r\n                    <CardContent className=\"space-y-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"email\">User ID</Label>\r\n                            <div className=\"relative\">\r\n                                <User className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                                <Input\r\n                                    id=\"email\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter User ID\"\r\n                                    className=\"pl-9\"\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"password\">Password</Label>\r\n                            <div className=\"relative\">\r\n                                <Lock className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                                <Input\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                                    className=\"pl-9\"\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        {error && (\r\n                            <div className=\"text-sm text-red-500 font-medium text-center\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                        <div className=\"text-xs text-center text-muted-foreground bg-muted/50 p-2 rounded\">\r\n                            <p>Default Admin: admin / admin123</p>\r\n                        </div>\r\n                    </CardContent>\r\n                    <CardFooter>\r\n                        <Button type=\"submit\" className=\"w-full\">Sign In</Button>\r\n                    </CardFooter>\r\n                </form>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;AARA;;;;;;;;AAUO,SAAS;;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,QAAQ,IAAA,uIAAY;2CAAC,CAAA,QAAS,MAAM,KAAK;;IAE/C,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,UAAU;oBAAO;gBAAS;YACrD;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACT,SAAS,KAAK,KAAK,IAAI;gBACvB;YACJ;YAEA,mBAAmB;YACnB,+EAA+E;YAC/E,MAAM,OAAO;gBACT,IAAI,KAAK,IAAI,CAAC,EAAE;gBAChB,MAAM,KAAK,IAAI,CAAC,IAAI;gBACpB,OAAO,KAAK,IAAI,CAAC,QAAQ;gBACzB,MAAM,KAAK,IAAI,CAAC,IAAI;YACxB;YACA,MAAM;QACV,EAAE,OAAO,KAAK;YACV,SAAS;QACb;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC,oIAAI;YAAC,WAAU;;8BACZ,6LAAC,0IAAU;oBAAC,WAAU;;sCAClB,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,kPAAe;oCAAC,WAAU;;;;;;;;;;;;;;;;sCAGnC,6LAAC,yIAAS;4BAAC,WAAU;sCAAqB;;;;;;sCAC1C,6LAAC,+IAAe;sCAAC;;;;;;;;;;;;8BAIrB,6LAAC;oBAAK,UAAU;;sCACZ,6LAAC,2IAAW;4BAAC,WAAU;;8CACnB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,sIAAK;4CAAC,SAAQ;sDAAQ;;;;;;sDACvB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,6MAAI;oDAAC,WAAU;;;;;;8DAChB,6LAAC,sIAAK;oDACF,IAAG;oDACH,MAAK;oDACL,aAAY;oDACZ,WAAU;oDACV,OAAO;oDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oDACxC,QAAQ;;;;;;;;;;;;;;;;;;8CAIpB,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,sIAAK;4CAAC,SAAQ;sDAAW;;;;;;sDAC1B,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,6MAAI;oDAAC,WAAU;;;;;;8DAChB,6LAAC,sIAAK;oDACF,IAAG;oDACH,MAAK;oDACL,aAAY;oDACZ,WAAU;oDACV,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,QAAQ;;;;;;;;;;;;;;;;;;gCAInB,uBACG,6LAAC;oCAAI,WAAU;8CACV;;;;;;8CAGT,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;kDAAE;;;;;;;;;;;;;;;;;sCAGX,6LAAC,0IAAU;sCACP,cAAA,6LAAC,wIAAM;gCAAC,MAAK;gCAAS,WAAU;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjE;GApGgB;;QAIE,uIAAY;;;KAJd"}},
    {"offset": {"line": 1327, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/auth/auth-wrapper.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useAuthStore } from \"@/lib/auth-store\"\r\nimport { useCRMStore } from \"@/lib/store\"\r\nimport { LoginScreen } from \"./login-screen\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nexport function AuthWrapper({ children }: { children: React.ReactNode }) {\r\n    const isAuthenticated = useAuthStore(state => state.isAuthenticated)\r\n    const user = useAuthStore(state => state.user)\r\n    const fetchRecords = useCRMStore(state => state.fetchRecords)\r\n    const fetchUploadHistory = useCRMStore(state => state.fetchUploadHistory)\r\n    const [mounted, setMounted] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setMounted(true)\r\n    }, [])\r\n\r\n    // Heartbeat to keep session active\r\n    useEffect(() => {\r\n        if (!isAuthenticated || !user?.id) return\r\n\r\n        const sendHeartbeat = () => {\r\n            fetch('/api/auth/heartbeat', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ userId: user.id })\r\n            }).catch(e => console.error(\"Heartbeat failed\", e))\r\n        }\r\n\r\n        sendHeartbeat() // Send immediately\r\n        const interval = setInterval(sendHeartbeat, 60000) // Then every 60s\r\n\r\n        return () => clearInterval(interval)\r\n    }, [isAuthenticated, user?.id])\r\n\r\n    // Fetch initial data on auth\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            fetchRecords()\r\n            fetchUploadHistory()\r\n        }\r\n    }, [isAuthenticated, fetchRecords, fetchUploadHistory])\r\n\r\n    if (!mounted) {\r\n        return null // Avoid hydration mismatch\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n        return <LoginScreen />\r\n    }\r\n\r\n    return <>{children}</>\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,YAAY,EAAE,QAAQ,EAAiC;;IACnE,MAAM,kBAAkB,IAAA,uIAAY;qDAAC,CAAA,QAAS,MAAM,eAAe;;IACnE,MAAM,OAAO,IAAA,uIAAY;0CAAC,CAAA,QAAS,MAAM,IAAI;;IAC7C,MAAM,eAAe,IAAA,8HAAW;iDAAC,CAAA,QAAS,MAAM,YAAY;;IAC5D,MAAM,qBAAqB,IAAA,8HAAW;uDAAC,CAAA,QAAS,MAAM,kBAAkB;;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACN,WAAW;QACf;gCAAG,EAAE;IAEL,mCAAmC;IACnC,IAAA,0KAAS;iCAAC;YACN,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI;YAEnC,MAAM;uDAAgB;oBAClB,MAAM,uBAAuB;wBACzB,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAS,CAAC;4BAAE,QAAQ,KAAK,EAAE;wBAAC;oBAC3C,GAAG,KAAK;+DAAC,CAAA,IAAK,QAAQ,KAAK,CAAC,oBAAoB;;gBACpD;;YAEA,iBAAgB,mBAAmB;YACnC,MAAM,WAAW,YAAY,eAAe,OAAO,iBAAiB;;YAEpE;yCAAO,IAAM,cAAc;;QAC/B;gCAAG;QAAC;QAAiB,MAAM;KAAG;IAE9B,6BAA6B;IAC7B,IAAA,0KAAS;iCAAC;YACN,IAAI,iBAAiB;gBACjB;gBACA;YACJ;QACJ;gCAAG;QAAC;QAAiB;QAAc;KAAmB;IAEtD,IAAI,CAAC,SAAS;QACV,OAAO,KAAK,2BAA2B;;IAC3C;IAEA,IAAI,CAAC,iBAAiB;QAClB,qBAAO,6LAAC,wJAAW;;;;;IACvB;IAEA,qBAAO;kBAAG;;AACd;GA9CgB;;QACY,uIAAY;QACvB,uIAAY;QACJ,8HAAW;QACL,8HAAW;;;KAJ1B"}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hardik/Downloads/crm/components/ui/sonner.tsx"],"sourcesContent":["'use client'\n\nimport { useTheme } from 'next-themes'\nimport { Toaster as Sonner, ToasterProps } from 'sonner'\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = 'system' } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps['theme']}\n      className=\"toaster group\"\n      style={\n        {\n          '--normal-bg': 'var(--popover)',\n          '--normal-text': 'var(--popover-foreground)',\n          '--normal-border': 'var(--border)',\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAErC,qBACE,6LAAC,sJAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf;GAjBM;;QACyB,+JAAQ;;;KADjC"}}]
}